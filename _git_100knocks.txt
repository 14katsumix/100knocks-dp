#===============================================================================
100knocks-dp 公開向けの管理
#===============================================================================

ローカルリポジトリ: 
/Users/kk/Home/_work/Analysis/100knocks-dp-dev

リモートリポジトリ: 
100knocks-dp-dev: 開発用 (Private)
100knocks-dp: 公開用 (Public)

事前に上記リモートリポジトリWeb側で作成しておく.

100knocks-dp (pub) にはローカルリポジトリの公開ファイルのみを push する。

.gitignore ファイルの切り替え: 
.gitignore-dev
.gitignore-pub

pushスクリプト:
push.sh dev
push.sh pub

テスト環境: 
cd /Users/kk/ds/

ここに 100knocks-dp (pub) を clone, pull して動作チェックする。

#-------------------------------------------------------------------------------
* 100knocks-dp-dev: 開発用 (Private) の管理

1. .gitignore.dev を事前に準備し、

cd /Users/kk/Home/_work/Analysis/100knocks-dp-dev

cp -f .gitignore-dev .gitignore

2. 初回の push: 

git init

git config --local user.name "14katsumix"
git config --local user.email "14katsumix@gmail.com"
git config --local url."github.com-14katsumix:".insteadOf "git@github.com:"

git add -A
git status

git commit -m "Initial commit"

git remote add origin git@github.com:14katsumix/100knocks-dp-dev.git
git remote -v

git branch -M main
git push -u origin main

Web側で確認する.

3. 2回目以降の push

push.sh dev

#-------------------------------------------------------------------------------
* 100knocks-dp: 公開用 (Public) の管理

1. .gitignore.pub を作成する.

2. 初回の push: 

cd /Users/kk/Home/_work/Analysis/100knocks-dp-dev

cp -f ./.gitignore-pub ./.gitignore

git remote add origin git@github.com:14katsumix/100knocks-dp-pub.git
git remote -v

git branch -M main
git push -u origin main

- 必要に応じて説明文や README を追加すると、ブログ読者にとって親切。

3. 2回目以降の push

push.sh pub

#-------------------------------------------------------------------------------
* サブディレクトリのみ (ddddd) を ローカルに clone する方法

# --no-checkout: すべてのデータを取得しないようにする
git clone --no-checkout git@github.com-14katsumix:14katsumix/R-All.git
cd local_dir

# Sparse Checkout を有効化
git sparse-checkout init --cone

# tmp ディレクトリのみを取得するように設定
git sparse-checkout set ddddd

# 指定したディレクトリのみチェックアウト
git checkout main

git remote -v
...

#-------------------------------------------------------------------------------
* .gitignore (pub用)

/*
/.**
!subdir-name/
!subdir-name/specific-file.txt

この設定では、subdir-name/ とその中の specific-file.txt は無視されず、追跡されます。

#-------------------------------------------------------------------------------

